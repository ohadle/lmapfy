<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecting to Perplexity...</title>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KEVPGNLJ1R"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-KEVPGNLJ1R');
    </script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background: #f0f2f5;
        }
        .container {
            text-align: center;
            padding: 2rem;
        }
        .typing-animation {
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }
        #query {
            font-weight: bold;
            color: #1a73e8;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="typing-animation">Typing: <span id="query"></span></div>
        <div>Redirecting to Perplexity...</div>
    </div>

    <script>
        // Get query parameter
        const urlParams = new URLSearchParams(window.location.search);
        const query = urlParams.get('q');
        
        if (query) {
            // Display the query with a typing animation
            const queryElement = document.getElementById('query');
            let i = 0;
            const typeWriter = () => {
                if (i < query.length) {
                    queryElement.textContent += query.charAt(i);
                    i++;
                    setTimeout(typeWriter, 100);
                } else {
                    // After typing animation, redirect to Perplexity
                    setTimeout(() => {
                        window.location.href = `https://www.perplexity.ai/?q=${encodeURIComponent(query)}`;
                    }, 1000);
                }
            };
            typeWriter();
        } else {
            // If no query parameter, redirect to homepage
            window.location.href = '/';
        }
    </script>
</body>
</html>